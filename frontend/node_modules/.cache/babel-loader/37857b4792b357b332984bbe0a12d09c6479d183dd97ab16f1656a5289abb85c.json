{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import validation from'./LoginValidation';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const navigate=useNavigate();//Initialize useNavigate\nconst[values,setValues]=useState({email:'',password:''});const[errors,setErrors]=useState({});const[loginSuccess,setLoginSuccess]=useState(false);const[loginError,setLoginError]=useState('');const handleInput=event=>{setValues(prev=>({...prev,[event.target.name]:[event.target.value]}));};const handleSubmit=event=>{event.preventDefault();setErrors(validation(values));const loginUser=async()=>{if(errors.email===''&&errors.password===''){try{const response=await fetch('http://localhost:4000/Login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(values)});const data=await response.json();if(response.ok){// Login successful\nsetLoginSuccess(true);console.log(data.user);// Log the user object to the console\nlocalStorage.setItem('user',JSON.stringify(data.user));// Store the user object in local storage\nnavigate('/user-home');}else{// Login failed\nconsole.error(data.error);}}catch(error){console.error('Error during login:',error);}}};loginUser();};return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center bg-primary vh-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-3 rounded w-25\",children:loginSuccess?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Login Successful!\"})}):/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Email\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Enter Email\",name:\"email\",onChange:handleInput,className:\"form-control rounded 0\"}),errors.email&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger\",children:[\" \",errors.email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Password\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Enter Password\",name:\"password\",onChange:handleInput,className:\"form-control rounded 0\"}),errors.password&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger\",children:[\" \",errors.password]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success w-100 rounded 0\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Log In\"})}),loginError&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:loginError}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(Link,{to:\"/Signup\",className:\"btn btn-default border w-100 bg-light rounded 0 text-decoration-none\",children:\"Create Account\"})]})})});}/** \r\nfunction Login() {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const handleEmailChange = (e) => {\r\n        setEmail(e.target.value);\r\n    };\r\n\r\n    const handlePasswordChange = (e) => {\r\n        setPassword(e.target.value);\r\n    };\r\n\r\n    const login = () => {\r\n        // Add your login logic here\r\n        console.log('Login clicked');\r\n        console.log('Email:', email);\r\n        console.log('Password:', password);\r\n    };\r\n\r\n    const navigateToSignup = () => {\r\n        window.location.href = 'signup.html';\r\n    };\r\n\r\n    return (\r\n        <section>\r\n            <div className=\"container-fluid\">\r\n                <h1 className=\"mt-5\">Welcome to CyberGuard Pro</h1>\r\n                <div id=\"login-container\">\r\n                    <label htmlFor=\"email\">Email:</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        placeholder=\"Enter your email\"\r\n                        value={email}\r\n                        onChange={handleEmailChange}\r\n                    />\r\n\r\n                    <label htmlFor=\"password\">Password:</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        placeholder=\"Enter your password\"\r\n                        value={password}\r\n                        onChange={handlePasswordChange}\r\n                    />\r\n\r\n                    <button onClick={login}>Login</button>\r\n                    <button onClick={navigateToSignup}>Sign Up</button>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n*/export default Login;","map":{"version":3,"names":["React","useState","Link","useNavigate","validation","jsx","_jsx","jsxs","_jsxs","Login","navigate","values","setValues","email","password","errors","setErrors","loginSuccess","setLoginSuccess","loginError","setLoginError","handleInput","event","prev","target","name","value","handleSubmit","preventDefault","loginUser","response","fetch","method","headers","body","JSON","stringify","data","json","ok","console","log","user","localStorage","setItem","error","className","children","action","onSubmit","htmlFor","type","placeholder","onChange","to"],"sources":["C:/Users/Kyle/Desktop/CyberGuard Pro/CyberGuard-Pro/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useNavigate  } from 'react-router-dom';\r\nimport validation from './LoginValidation';\r\n\r\n\r\nfunction Login() {\r\n\r\n    const navigate = useNavigate(); //Initialize useNavigate\r\n\r\n        const [values, setValues] = useState({\r\n            email: '',\r\n            password: ''\r\n        })\r\n\r\n        const [errors, setErrors] = useState({})\r\n        const [loginSuccess, setLoginSuccess] = useState(false);\r\n        const [loginError, setLoginError] = useState('');\r\n\r\n\r\n\r\n        const handleInput = (event) => {\r\n            setValues(prev => ({...prev, [event.target.name]: [event.target.value]}))\r\n        }\r\n\r\n        const handleSubmit =  (event) => {\r\n            event.preventDefault();\r\n\r\n            setErrors(validation(values));\r\n    \r\n            const loginUser = async () => {\r\n                if (errors.email === '' && errors.password === '') {\r\n                    try {\r\n                        const response = await fetch('http://localhost:4000/Login', {\r\n                            method: 'POST',\r\n                            headers: {\r\n                                'Content-Type': 'application/json',\r\n                            },\r\n                            body: JSON.stringify(values),\r\n                        });\r\n    \r\n                        const data = await response.json();\r\n    \r\n                        if (response.ok) {\r\n                            // Login successful\r\n                            setLoginSuccess(true);\r\n                            console.log(data.user); // Log the user object to the console\r\n                            localStorage.setItem('user', JSON.stringify(data.user)); // Store the user object in local storage\r\n                            navigate('/user-home');\r\n\r\n                        } else {\r\n                            // Login failed\r\n                            console.error(data.error);\r\n                        }\r\n                    } catch (error) {\r\n                        console.error('Error during login:', error);\r\n                    }\r\n                }\r\n            };\r\n    \r\n            loginUser();\r\n        }\r\n        return (\r\n            <div className='d-flex justify-content-center align-items-center bg-primary vh-100'>\r\n                <div className='bg-white p-3 rounded w-25'>\r\n                    {loginSuccess ? (\r\n                        <div>\r\n                            <h2>Login Successful!</h2>\r\n                        </div>\r\n                    ) : (\r\n                        <form action=\"\" onSubmit={handleSubmit}>\r\n                            <div className='mb-3'>\r\n                                <label htmlFor='email'><strong>Email</strong></label>\r\n                                <input type='email' placeholder='Enter Email' name='email' onChange={handleInput} className='form-control rounded 0' />\r\n                                {errors.email && <span className='text-danger'> {errors.email}</span>}\r\n                            </div>\r\n                            <div className='mb-3'>\r\n                                <label htmlFor='password'><strong>Password</strong></label>\r\n                                <input type='password' placeholder='Enter Password' name='password' onChange={handleInput} className='form-control rounded 0' />\r\n                                {errors.password && <span className='text-danger'> {errors.password}</span>}\r\n                            </div>\r\n                            <button type='submit' className='btn btn-success w-100 rounded 0'><strong>Log In</strong></button>\r\n                            {loginError && <p className='text-danger'>{loginError}</p>}\r\n                            <p></p>\r\n                            <Link to='/Signup' className='btn btn-default border w-100 bg-light rounded 0 text-decoration-none'>Create Account</Link>\r\n                        </form>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n/** \r\nfunction Login() {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const handleEmailChange = (e) => {\r\n        setEmail(e.target.value);\r\n    };\r\n\r\n    const handlePasswordChange = (e) => {\r\n        setPassword(e.target.value);\r\n    };\r\n\r\n    const login = () => {\r\n        // Add your login logic here\r\n        console.log('Login clicked');\r\n        console.log('Email:', email);\r\n        console.log('Password:', password);\r\n    };\r\n\r\n    const navigateToSignup = () => {\r\n        window.location.href = 'signup.html';\r\n    };\r\n\r\n    return (\r\n        <section>\r\n            <div className=\"container-fluid\">\r\n                <h1 className=\"mt-5\">Welcome to CyberGuard Pro</h1>\r\n                <div id=\"login-container\">\r\n                    <label htmlFor=\"email\">Email:</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        placeholder=\"Enter your email\"\r\n                        value={email}\r\n                        onChange={handleEmailChange}\r\n                    />\r\n\r\n                    <label htmlFor=\"password\">Password:</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        placeholder=\"Enter your password\"\r\n                        value={password}\r\n                        onChange={handlePasswordChange}\r\n                    />\r\n\r\n                    <button onClick={login}>Login</button>\r\n                    <button onClick={navigateToSignup}>Sign Up</button>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n*/\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}